# راهنمای نصب و راه‌اندازی AI Tile Visualizer

## خلاصه
یک ویژگی پیشرفته برای نمایش کاشی‌های شما در فضای واقعی کاربر با استفاده از هوش مصنوعی Gemini

## مراحل نصب

### 1. دریافت API Key از Google

1. به این لینک بروید: https://makersuite.google.com/app/apikey
2. با اکانت Google خود وارد شوید
3. روی "Create API Key" کلیک کنید
4. کلید API را کپی کنید

### 2. تنظیم Environment Variable

در ریشه پروژه، یک فایل `.env` بسازید:

```env
VITE_GEMINI_API_KEY=کلید_API_شما_اینجا
VITE_API_URL=http://localhost:3001
```

**مهم:** این فایل را commit نکنید!

### 3. اجرای پروژه

```bash
# Backend را اجرا کنید
cd backend
npm run server

# Frontend را در ترمینال دیگری اجرا کنید
npm run dev
```

### 4. تست کردن

1. به صفحه `/inspiration` بروید
2. بخش "Visualize Tiles in Your Space" را پیدا کنید
3. یک عکس از اتاق خود آپلود کنید
4. حداکثر 2 کاشی انتخاب کنید
5. روی "Generate AI Visualization" کلیک کنید
6. نتیجه را ببینید و دانلود کنید

## ویژگی‌های کلیدی

### ✅ آپلود عکس اتاق
- پشتیبانی از JPEG, PNG
- حداکثر 10MB
- پیش‌نمایش آنی

### ✅ انتخاب کاشی
- مرور همه کاشی‌ها بر اساس ابعاد
- انتخاب تا 2 کاشی
- حذف آسان

### ✅ نمایش هوشمند با AI
- **دقت بسیار بالا** در قرارگیری کاشی‌ها
- لحاظ کردن:
  - پرسپکتیو و هندسه اتاق
  - نور و سایه
  - نوع سطح (کف، دیوار، بک‌اسپلش)
  - ابعاد و فینیش کاشی (مات/براق/تکسچر)
  - خطوط بند (grout)
  - بازتاب‌ها

### ✅ دانلود نتیجه
- کیفیت بالا
- نام فایل با timestamp

## نکات مهم برای بهترین نتیجه

### عکس اتاق:
- ✅ نور خوب
- ✅ زاویه مناسب (نه خیلی اریب)
- ✅ فضای مرتب
- ✅ رزولوشن بالا (1920x1080 یا بیشتر)

### انتخاب کاشی:
- ✅ کاشی متناسب با سطح
- ✅ ابعاد متناسب با اندازه اتاق
- ✅ ترکیب هوشمندانه (حداکثر 2 کاشی)

## رفع مشکلات رایج

### "API key not configured"
**راه‌حل:** کلید API را در فایل `.env` قرار دهید

### "Image too large"
**راه‌حل:** عکس را کمتر از 10MB کنید

### "Failed to generate visualization"
**دلایل احتمالی:**
- مشکل اینترنت
- محدودیت API (rate limit)
- کلید API نادرست

**راه‌حل:**
1. اتصال اینترنت را چک کنید
2. چند دقیقه صبر کنید
3. کلید API را بررسی کنید

## ساختار کد

```
src/
├── components/
│   └── TileVisualizer.tsx (کامپوننت اصلی)
├── pages/
│   └── Inspiration.tsx (صفحه نمایش)
└── services/
    └── productService.local.ts (سرویس محصولات)
```

## معماری

1. کاربر عکس آپلود می‌کند → تبدیل به Base64
2. کاربر کاشی انتخاب می‌کند → دریافت از API
3. کلیک روی Generate → آماده‌سازی داده برای AI
4. ارسال به Gemini API → پردازش توسط AI
5. دریافت نتیجه → نمایش و دانلود

## امنیت

- کلید API را **هرگز** در کد frontend قرار ندهید
- از environment variables استفاده کنید
- برای production، از backend proxy استفاده کنید
- عکس‌های کاربران را بدون اجازه ذخیره نکنید

## هزینه‌ها

### Gemini API:
- **رایگان:** 60 درخواست در دقیقه
- **پولی:** محدودیت بالاتر

### توصیه:
- برای تست: رایگان کافی است
- برای production: پلن پولی بگیرید

## ویژگی‌های آینده (برنامه‌ریزی شده)

- [ ] انتخاب چند ناحیه در اتاق
- [ ] تنظیم پرسپکتیو 3D
- [ ] اسلایدر قبل/بعد
- [ ] ذخیره در اکانت کاربر
- [ ] اشتراک‌گذاری نتایج
- [ ] پیش‌نمایش AR
- [ ] پردازش دسته‌ای
- [ ] سفارشی‌سازی رنگ
- [ ] انتخاب رنگ بند

## پشتیبانی

- ایمیل: support@almasceram.com
- مستندات: این راهنما
- گیت‌هاب: برای گزارش باگ

---

**آخرین بروزرسانی:** 30 اکتبر 2024  
**نسخه:** 1.0.0  
**توسعه‌دهنده:** تیم AlmasCeram



